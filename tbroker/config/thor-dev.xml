<?xml version="1.0" encoding="ISO-8859-1" ?>
<config>
    <port>7893</port>

    <support-tools-dir>/disk4/translation-server/scripts/support-tools</support-tools-dir>
    <model-dir>/disk4/webtrans-models</model-dir>
    <moses-dir>/disk3/bhaddow/moses</moses-dir>


    <moses-init-msg>The global weight vector</moses-init-msg>

    <tokeniser>${support-tools-dir}/tokenizer.perl</tokeniser>
    <detokeniser>${support-tools-dir}/detokenizer.perl</detokeniser>
    <lowercaser>${support-tools-dir}/lowercase.perl</lowercaser>
    <recaser>${support-tools-dir}/recase.perl</recaser>
    <moses>${moses-dir}/moses-cmd/src/moses</moses>

    <!-- Command line tools -->
    <pipetool>
        <name>fr-tok</name>
        <command>${tokeniser}</command>
        <arg>-l</arg>
        <arg>fr</arg>
    </pipetool>
    <pipetool>
        <name>lower</name>
        <command>${lowercaser}</command>
    </pipetool>
    <pipetool>
        <name>fr-en-moses</name>
        <command>${moses}</command>
        <debug>true</debug> <!-- retain debug messages -->
        <!-- discard all initial debug messages until this one -->
        <init-end-msg>The global weight vector</init-end-msg>
        <!-- this message signifies the end of a job -->
        <end-msg>Finished translating</end-msg>
        <arg>-f</arg>
        <arg>${model-dir}/fr-en.matrix07b/moses.ini.1</arg>
        <arg>-s</arg>
        <arg>100</arg>
        <arg>-v</arg>
        <arg>2</arg>
    </pipetool>
    <pipetool>
        <name>en-recaser</name>
        <command>${recaser}</command>
        <arg>--moses</arg>
        <arg>${moses}</arg>
        <arg>--model</arg>
        <arg>${model-dir}/recasing/matrix07b/model.1/moses.ini.1</arg>
    </pipetool>
    <pipetool>
        <name>en-detok</name>
        <command>${detokeniser}</command>
        <arg>-l</arg>
        <arg>en</arg>
    </pipetool>

    <!-- Translation tool chains -->
    <toolchain>
        <name>fr-en</name>
        <description>French->English (Europarl)</description>
        <source>fr</source>
        <target>en</target>
        <tool>fr-tok</tool>
        <tool>lower</tool>
        <tool>fr-en-moses</tool>
        <tool>en-recaser</tool>
        <tool>en-detok</tool>
    </toolchain>
    <toolchain>
        <name>fr-en-bare</name>
        <description>French->English (Europarl)</description>
        <source>fr</source>
        <target>en</target>
        <tokinput>true</tokinput>
        <lcinput>true</lcinput>
        <tool>fr-en-moses</tool>
    </toolchain>

</config>
